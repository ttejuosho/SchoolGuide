@model IEnumerable<SchoolGuide.School>

@{
    ViewData["Title"] = "Schools";
}

<div class="jumbotron">
    <h1 class="text-center display-4">Schoogle DB</h1>
</div>

<div class="row justify-content-center">
    <div class="col-10">
        @foreach (var school in Model)
        {
            var schoolImage = "~/img/" + (school.ProfileImagePath != null ? school.ProfileImagePath : "400X400.png");
            <div class="card mb-3">
                <div class="row no-gutters">
                    <div class="col-md-4">
                        <a href="~/School/@school.SchoolId"><img src="@schoolImage" class="card-img" alt="school image" asp-append-version="true"></a>
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title"><a href="~/School/@school.SchoolId">@school.SchoolName</a></h5>
                            <a class="btn btn-sm btn-warning" href="~/School/Edit/@school.SchoolId" role="button" style="position: absolute;right: 5em;bottom: 19em;">Edit</a>
                            <a class="btn btn-sm btn-danger text-white" onclick="activateModal(@school.SchoolId, '@school.SchoolName')" role="button" style="position: absolute;right: 0.3em;bottom: 19em; cursor: pointer;">Delete</a>
                            <p class="card-text"><span class="font-weight-bold">Address</span>: @school.SchoolAddress @school.SchoolCity @school.SchoolState</p>
                            <p class="card-text"><span class="font-weight-bold">Phone</span>: @school.SchoolPhone</p>
                            <p class="card-text"><span class="font-weight-bold">Email Address</span>: @school.SchoolEmail</p>
                            <p class="card-text"><span class="font-weight-bold">Website</span>: @school.SchoolWeb</p>
                            <p class="card-text"><span class="font-weight-bold">Principal Name</span>: @school.PrincipalName</p>
                            <p class="card-text"><span class="font-weight-bold">Established</span>: @school.YearFounded</p>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-danger" id="confirmDeleteModalTitle">Delete School ?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this school ? Data cannot be recovered.
            </div>
            <div class="modal-footer">
                <a id="deleteSchoolBtn" class="btn btn-sm btn-danger text-white" href="" role="button">Delete</a>
                <button type="button" class="btn btn-sm btn-warning" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>

@section scripts{
    <script type="text/javascript"></Script>
}